{"ast":null,"code":"import { useLayoutEffect, useEffect } from 'react';\nfunction dispatchEvent(type, detail) {\n  window.dispatchEvent(new CustomEvent(type, {\n    detail: detail\n  }));\n}\nvar useIsomorphicEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\nfunction createUseExternalEvents(prefix) {\n  function _useExternalEvents(events) {\n    var handlers = Object.keys(events).reduce(function (acc, eventKey) {\n      acc[\"\".concat(prefix, \":\").concat(eventKey)] = function (event) {\n        return events[eventKey](event.detail);\n      };\n      return acc;\n    }, {});\n    useIsomorphicEffect(function () {\n      Object.keys(handlers).forEach(function (eventKey) {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n      return function () {\n        return Object.keys(handlers).forEach(function (eventKey) {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n      };\n    }, [handlers]);\n  }\n  function createEvent(event) {\n    return function () {\n      return dispatchEvent(\"\".concat(prefix, \":\").concat(String(event)), arguments.length <= 0 ? undefined : arguments[0]);\n    };\n  }\n  return [_useExternalEvents, createEvent];\n}\nexport { createUseExternalEvents };","map":{"version":3,"names":["dispatchEvent","type","detail","window","CustomEvent","useIsomorphicEffect","useLayoutEffect","useEffect","createUseExternalEvents","prefix","_useExternalEvents","events","handlers","Object","keys","reduce","acc","eventKey","concat","event","forEach","removeEventListener","addEventListener","createEvent","String","arguments","length","undefined"],"sources":["F:\\Dairy Project\\dairy_management\\node_modules\\@mantine\\utils\\src\\create-use-external-events\\create-use-external-events.ts"],"sourcesContent":["import { useEffect, useLayoutEffect } from 'react';\n\nfunction dispatchEvent<T>(type: string, detail?: T) {\n  window.dispatchEvent(new CustomEvent(type, { detail }));\n}\n\nconst useIsomorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport function createUseExternalEvents<Handlers extends Record<string, (detail: any) => void>>(\n  prefix: string\n) {\n  function _useExternalEvents(events: Handlers) {\n    const handlers = Object.keys(events).reduce((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = (event: CustomEvent) => events[eventKey](event.detail);\n      return acc;\n    }, {});\n\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach((eventKey) => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n\n      return () =>\n        Object.keys(handlers).forEach((eventKey) => {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n    }, [handlers]);\n  }\n\n  function createEvent<EventKey extends keyof Handlers>(event: EventKey) {\n    type Parameter = Parameters<Handlers[EventKey]>[0];\n\n    return (...payload: Parameter extends undefined ? [undefined?] : [Parameter]) =>\n      dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n\n  return [_useExternalEvents, createEvent] as const;\n}\n"],"mappings":";AACA,SAASA,aAAaA,CAACC,IAAI,EAAEC,MAAM,EAAE;EACnCC,MAAM,CAACH,aAAa,CAAC,IAAII,WAAW,CAACH,IAAI,EAAE;IAAEC,MAAM,EAANA;EAAM,CAAE,CAAC,CAAC;AACzD;AACA,IAAMG,mBAAmB,GAAG,OAAOF,MAAM,KAAK,WAAW,GAAGG,eAAe,GAAGC,SAAS;AAChF,SAASC,uBAAuBA,CAACC,MAAM,EAAE;EAC9C,SAASC,kBAAkBA,CAACC,MAAM,EAAE;IAClC,IAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC,CAACI,MAAM,CAAC,UAACC,GAAG,EAAEC,QAAQ,EAAK;MAC7DD,GAAG,IAAAE,MAAA,CAAIT,MAAM,OAAAS,MAAA,CAAID,QAAQ,EAAG,GAAG,UAACE,KAAK;QAAA,OAAKR,MAAM,CAACM,QAAQ,CAAC,CAACE,KAAK,CAACjB,MAAM,CAAC;MAAA;MACxE,OAAOc,GAAG;IAChB,CAAK,EAAE,EAAE,CAAC;IACNX,mBAAmB,CAAC,YAAM;MACxBQ,MAAM,CAACC,IAAI,CAACF,QAAQ,CAAC,CAACQ,OAAO,CAAC,UAACH,QAAQ,EAAK;QAC1Cd,MAAM,CAACkB,mBAAmB,CAACJ,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;QACxDd,MAAM,CAACmB,gBAAgB,CAACL,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;MAC7D,CAAO,CAAC;MACF,OAAO;QAAA,OAAMJ,MAAM,CAACC,IAAI,CAACF,QAAQ,CAAC,CAACQ,OAAO,CAAC,UAACH,QAAQ,EAAK;UACvDd,MAAM,CAACkB,mBAAmB,CAACJ,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;QAChE,CAAO,CAAC;MAAA;IACR,CAAK,EAAE,CAACL,QAAQ,CAAC,CAAC;EAClB;EACE,SAASW,WAAWA,CAACJ,KAAK,EAAE;IAC1B,OAAO;MAAA,OAAgBnB,aAAa,IAAAkB,MAAA,CAAIT,MAAM,OAAAS,MAAA,CAAIM,MAAM,CAACL,KAAK,CAAC,GAAAM,SAAA,CAAAC,MAAA,QAAAC,SAAA,GAAAF,SAAA,GAAc,CAAC;IAAA;EAClF;EACE,OAAO,CAACf,kBAAkB,EAAEa,WAAW,CAAC;AAC1C"},"metadata":{},"sourceType":"module","externalDependencies":[]}