{"ast":null,"code":"import _slicedToArray from \"F:/Dairy Project/dairy_management/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef } from 'react';\nimport { useWindowScroll } from '../use-window-scroll/use-window-scroll.js';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect.js';\nvar isFixed = function isFixed(current, fixedAt) {\n  return current <= fixedAt;\n};\nvar isPinned = function isPinned(current, previous) {\n  return current <= previous;\n};\nvar isReleased = function isReleased(current, previous, fixedAt) {\n  return !isPinned(current, previous) && !isFixed(current, fixedAt);\n};\nfunction useHeadroom() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$fixedAt = _ref.fixedAt,\n    fixedAt = _ref$fixedAt === void 0 ? 0 : _ref$fixedAt,\n    onPin = _ref.onPin,\n    onFix = _ref.onFix,\n    onRelease = _ref.onRelease;\n  var scrollRef = useRef(0);\n  var _useWindowScroll = useWindowScroll(),\n    _useWindowScroll2 = _slicedToArray(_useWindowScroll, 1),\n    scrollPosition = _useWindowScroll2[0].y;\n  useIsomorphicEffect(function () {\n    if (isPinned(scrollPosition, scrollRef.current)) {\n      onPin == null ? void 0 : onPin();\n    }\n  }, [scrollPosition, onPin]);\n  useIsomorphicEffect(function () {\n    if (isFixed(scrollPosition, fixedAt)) {\n      onFix == null ? void 0 : onFix();\n    }\n  }, [scrollPosition, fixedAt, onFix]);\n  useIsomorphicEffect(function () {\n    if (isReleased(scrollPosition, scrollRef.current, fixedAt)) {\n      onRelease == null ? void 0 : onRelease();\n    }\n  }, [scrollPosition, onRelease]);\n  useIsomorphicEffect(function () {\n    scrollRef.current = window.scrollY;\n  }, [scrollPosition]);\n  if (isPinned(scrollPosition, scrollRef.current)) {\n    return true;\n  }\n  if (isFixed(scrollPosition, fixedAt)) {\n    return true;\n  }\n  return false;\n}\nexport { isFixed, isPinned, isReleased, useHeadroom };","map":{"version":3,"names":["isFixed","current","fixedAt","isPinned","previous","isReleased","useHeadroom","_ref","arguments","length","undefined","_ref$fixedAt","onPin","onFix","onRelease","scrollRef","useRef","_useWindowScroll","useWindowScroll","_useWindowScroll2","_slicedToArray","scrollPosition","y","useIsomorphicEffect","window","scrollY"],"sources":["F:\\Dairy Project\\dairy_management\\node_modules\\@mantine\\hooks\\src\\use-headroom\\use-headroom.ts"],"sourcesContent":["import { useRef } from 'react';\nimport { useWindowScroll } from '../use-window-scroll/use-window-scroll';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect';\n\nexport const isFixed = (current: number, fixedAt: number) => current <= fixedAt;\nexport const isPinned = (current: number, previous: number) => current <= previous;\nexport const isReleased = (current: number, previous: number, fixedAt: number) =>\n  !isPinned(current, previous) && !isFixed(current, fixedAt);\n\ninterface UseHeadroomInput {\n  /** Number in px at which element should be fixed */\n  fixedAt?: number;\n\n  /** Called when element is pinned */\n  onPin?(): void;\n\n  /** Called when element is at fixed position */\n  onFix?(): void;\n\n  /** Called when element is unpinned */\n  onRelease?(): void;\n}\n\nexport function useHeadroom({ fixedAt = 0, onPin, onFix, onRelease }: UseHeadroomInput = {}) {\n  const scrollRef = useRef(0);\n  const [{ y: scrollPosition }] = useWindowScroll();\n\n  useIsomorphicEffect(() => {\n    if (isPinned(scrollPosition, scrollRef.current)) {\n      onPin?.();\n    }\n  }, [scrollPosition, onPin]);\n\n  useIsomorphicEffect(() => {\n    if (isFixed(scrollPosition, fixedAt)) {\n      onFix?.();\n    }\n  }, [scrollPosition, fixedAt, onFix]);\n\n  useIsomorphicEffect(() => {\n    if (isReleased(scrollPosition, scrollRef.current, fixedAt)) {\n      onRelease?.();\n    }\n  }, [scrollPosition, onRelease]);\n\n  useIsomorphicEffect(() => {\n    scrollRef.current = window.scrollY;\n  }, [scrollPosition]);\n\n  if (isPinned(scrollPosition, scrollRef.current)) {\n    return true;\n  }\n\n  if (isFixed(scrollPosition, fixedAt)) {\n    return true;\n  }\n\n  return false;\n}\n"],"mappings":";;;;AAGY,IAACA,OAAO,GAAG,SAAVA,OAAOA,CAAIC,OAAO,EAAEC,OAAO;EAAA,OAAKD,OAAO,IAAIC,OAAA;AAAA;AAC5C,IAACC,QAAQ,GAAG,SAAXA,QAAQA,CAAIF,OAAO,EAAEG,QAAQ;EAAA,OAAKH,OAAO,IAAIG,QAAA;AAAA;AAC9C,IAACC,UAAU,GAAG,SAAbA,UAAUA,CAAIJ,OAAO,EAAEG,QAAQ,EAAEF,OAAO;EAAA,OAAK,CAACC,QAAQ,CAACF,OAAO,EAAEG,QAAQ,CAAC,IAAI,CAACJ,OAAO,CAACC,OAAO,EAAEC,OAAO;AAAA;AAC5G,SAASI,WAAWA,CAAA,EAAgD;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAJ,EAAE;IAAAG,YAAA,GAAAJ,IAAA,CAA3CL,OAAO;IAAPA,OAAO,GAAAS,YAAA,cAAG,CAAC,GAAAA,YAAA;IAAEC,KAAK,GAAAL,IAAA,CAALK,KAAK;IAAEC,KAAK,GAAAN,IAAA,CAALM,KAAK;IAAEC,SAAS,GAAAP,IAAA,CAATO,SAAS;EAChE,IAAMC,SAAS,GAAGC,MAAM,CAAC,CAAC,CAAC;EAC3B,IAAAC,gBAAA,GAAgCC,eAAe,EAAE;IAAAC,iBAAA,GAAAC,cAAA,CAAAH,gBAAA;IAArCI,cAAc,GAAAF,iBAAA,IAAjBG,CAAC;EACVC,mBAAmB,CAAC,YAAM;IACxB,IAAIpB,QAAQ,CAACkB,cAAc,EAAEN,SAAS,CAACd,OAAO,CAAC,EAAE;MAC/CW,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,EAAE;IACtC;EACA,CAAG,EAAE,CAACS,cAAc,EAAET,KAAK,CAAC,CAAC;EAC3BW,mBAAmB,CAAC,YAAM;IACxB,IAAIvB,OAAO,CAACqB,cAAc,EAAEnB,OAAO,CAAC,EAAE;MACpCW,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,EAAE;IACtC;EACA,CAAG,EAAE,CAACQ,cAAc,EAAEnB,OAAO,EAAEW,KAAK,CAAC,CAAC;EACpCU,mBAAmB,CAAC,YAAM;IACxB,IAAIlB,UAAU,CAACgB,cAAc,EAAEN,SAAS,CAACd,OAAO,EAAEC,OAAO,CAAC,EAAE;MAC1DY,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,EAAE;IAC9C;EACA,CAAG,EAAE,CAACO,cAAc,EAAEP,SAAS,CAAC,CAAC;EAC/BS,mBAAmB,CAAC,YAAM;IACxBR,SAAS,CAACd,OAAO,GAAGuB,MAAM,CAACC,OAAO;EACtC,CAAG,EAAE,CAACJ,cAAc,CAAC,CAAC;EACpB,IAAIlB,QAAQ,CAACkB,cAAc,EAAEN,SAAS,CAACd,OAAO,CAAC,EAAE;IAC/C,OAAO,IAAI;EACf;EACE,IAAID,OAAO,CAACqB,cAAc,EAAEnB,OAAO,CAAC,EAAE;IACpC,OAAO,IAAI;EACf;EACE,OAAO,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}