{"ast":null,"code":"import _slicedToArray from \"F:/Dairy Project/dairy_management/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport { useFloating, shift, getOverflowAncestors } from '@floating-ui/react';\nfunction useFloatingTooltip(_ref) {\n  var offset = _ref.offset,\n    position = _ref.position;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    opened = _useState2[0],\n    setOpened = _useState2[1];\n  var boundaryRef = useRef();\n  var _useFloating = useFloating({\n      placement: position,\n      middleware: [shift({\n        crossAxis: true,\n        padding: 5,\n        rootBoundary: \"document\"\n      })]\n    }),\n    x = _useFloating.x,\n    y = _useFloating.y,\n    reference = _useFloating.reference,\n    floating = _useFloating.floating,\n    refs = _useFloating.refs,\n    update = _useFloating.update,\n    placement = _useFloating.placement;\n  var horizontalOffset = placement.includes(\"right\") ? offset : position.includes(\"left\") ? offset * -1 : 0;\n  var verticalOffset = placement.includes(\"bottom\") ? offset : position.includes(\"top\") ? offset * -1 : 0;\n  var handleMouseMove = useCallback(function (_ref2) {\n    var clientX = _ref2.clientX,\n      clientY = _ref2.clientY;\n    reference({\n      getBoundingClientRect: function getBoundingClientRect() {\n        return {\n          width: 0,\n          height: 0,\n          x: clientX,\n          y: clientY,\n          left: clientX + horizontalOffset,\n          top: clientY + verticalOffset,\n          right: clientX,\n          bottom: clientY\n        };\n      }\n    });\n  }, [reference]);\n  useEffect(function () {\n    if (refs.floating.current) {\n      var boundary = boundaryRef.current;\n      boundary.addEventListener(\"mousemove\", handleMouseMove);\n      var parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach(function (parent) {\n        parent.addEventListener(\"scroll\", update);\n      });\n      return function () {\n        boundary.removeEventListener(\"mousemove\", handleMouseMove);\n        parents.forEach(function (parent) {\n          parent.removeEventListener(\"scroll\", update);\n        });\n      };\n    }\n    return void 0;\n  }, [reference, refs.floating.current, update, handleMouseMove, opened]);\n  return {\n    handleMouseMove: handleMouseMove,\n    x: x,\n    y: y,\n    opened: opened,\n    setOpened: setOpened,\n    boundaryRef: boundaryRef,\n    floating: floating\n  };\n}\nexport { useFloatingTooltip };","map":{"version":3,"names":["useFloatingTooltip","_ref","offset","position","_useState","useState","_useState2","_slicedToArray","opened","setOpened","boundaryRef","useRef","_useFloating","useFloating","placement","middleware","shift","crossAxis","padding","rootBoundary","x","y","reference","floating","refs","update","horizontalOffset","includes","verticalOffset","handleMouseMove","useCallback","_ref2","clientX","clientY","getBoundingClientRect","width","height","left","top","right","bottom","useEffect","current","boundary","addEventListener","parents","getOverflowAncestors","forEach","parent","removeEventListener"],"sources":["F:\\Dairy Project\\dairy_management\\node_modules\\@mantine\\core\\src\\Tooltip\\TooltipFloating\\use-floating-tooltip.ts"],"sourcesContent":["import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useFloating, shift, getOverflowAncestors } from '@floating-ui/react';\nimport { FloatingPosition } from '../../Floating';\n\ninterface UseFloatingTooltip {\n  offset: number;\n  position: FloatingPosition;\n}\n\nexport function useFloatingTooltip<T extends HTMLElement = any>({\n  offset,\n  position,\n}: UseFloatingTooltip) {\n  const [opened, setOpened] = useState(false);\n  const boundaryRef = useRef<T>();\n  const { x, y, reference, floating, refs, update, placement } = useFloating({\n    placement: position,\n    middleware: [\n      shift({\n        crossAxis: true,\n        padding: 5,\n        rootBoundary: 'document',\n      }),\n    ],\n  });\n\n  const horizontalOffset = placement.includes('right')\n    ? offset\n    : position.includes('left')\n    ? offset * -1\n    : 0;\n\n  const verticalOffset = placement.includes('bottom')\n    ? offset\n    : position.includes('top')\n    ? offset * -1\n    : 0;\n\n  const handleMouseMove = useCallback(\n    ({ clientX, clientY }: MouseEvent | React.MouseEvent<T, MouseEvent>) => {\n      reference({\n        getBoundingClientRect() {\n          return {\n            width: 0,\n            height: 0,\n            x: clientX,\n            y: clientY,\n            left: clientX + horizontalOffset,\n            top: clientY + verticalOffset,\n            right: clientX,\n            bottom: clientY,\n          };\n        },\n      });\n    },\n    [reference]\n  );\n\n  useEffect(() => {\n    if (refs.floating.current) {\n      const boundary = boundaryRef.current;\n      boundary.addEventListener('mousemove', handleMouseMove);\n\n      const parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach((parent) => {\n        parent.addEventListener('scroll', update);\n      });\n\n      return () => {\n        boundary.removeEventListener('mousemove', handleMouseMove);\n        parents.forEach((parent) => {\n          parent.removeEventListener('scroll', update);\n        });\n      };\n    }\n\n    return undefined;\n  }, [reference, refs.floating.current, update, handleMouseMove, opened]);\n\n  return { handleMouseMove, x, y, opened, setOpened, boundaryRef, floating };\n}\n"],"mappings":";;;AAEO,SAASA,kBAAkBA,CAAAC,IAAA,EAG/B;EAAA,IAFDC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EAER,IAAAC,SAAA,GAA4BC,QAAQ,CAAC,KAAK,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAApCI,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EACxB,IAAMI,WAAW,GAAGC,MAAM,EAAE;EAC5B,IAAAC,YAAA,GAA+DC,WAAW,CAAC;MACzEC,SAAS,EAAEX,QAAQ;MACnBY,UAAU,EAAE,CACVC,KAAK,CAAC;QACJC,SAAS,EAAE,IAAI;QACfC,OAAO,EAAE,CAAC;QACVC,YAAY,EAAE;MACtB,CAAO,CAAC;IAER,CAAG,CAAC;IATMC,CAAC,GAAAR,YAAA,CAADQ,CAAC;IAAEC,CAAC,GAAAT,YAAA,CAADS,CAAC;IAAEC,SAAS,GAAAV,YAAA,CAATU,SAAS;IAAEC,QAAQ,GAAAX,YAAA,CAARW,QAAQ;IAAEC,IAAI,GAAAZ,YAAA,CAAJY,IAAI;IAAEC,MAAM,GAAAb,YAAA,CAANa,MAAM;IAAEX,SAAS,GAAAF,YAAA,CAATE,SAAS;EAU1D,IAAMY,gBAAgB,GAAGZ,SAAS,CAACa,QAAQ,CAAC,OAAO,CAAC,GAAGzB,MAAM,GAAGC,QAAQ,CAACwB,QAAQ,CAAC,MAAM,CAAC,GAAGzB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;EAC3G,IAAM0B,cAAc,GAAGd,SAAS,CAACa,QAAQ,CAAC,QAAQ,CAAC,GAAGzB,MAAM,GAAGC,QAAQ,CAACwB,QAAQ,CAAC,KAAK,CAAC,GAAGzB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;EACzG,IAAM2B,eAAe,GAAGC,WAAW,CAAC,UAAAC,KAAA,EAA0B;IAAA,IAAvBC,OAAO,GAAAD,KAAA,CAAPC,OAAO;MAAEC,OAAO,GAAAF,KAAA,CAAPE,OAAO;IACrDX,SAAS,CAAC;MACRY,qBAAqB,WAAAA,sBAAA,EAAG;QACtB,OAAO;UACLC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAE,CAAC;UACThB,CAAC,EAAEY,OAAO;UACVX,CAAC,EAAEY,OAAO;UACVI,IAAI,EAAEL,OAAO,GAAGN,gBAAgB;UAChCY,GAAG,EAAEL,OAAO,GAAGL,cAAc;UAC7BW,KAAK,EAAEP,OAAO;UACdQ,MAAM,EAAEP;QAClB,CAAS;MACT;IACA,CAAK,CAAC;EACN,CAAG,EAAE,CAACX,SAAS,CAAC,CAAC;EACfmB,SAAS,CAAC,YAAM;IACd,IAAIjB,IAAI,CAACD,QAAQ,CAACmB,OAAO,EAAE;MACzB,IAAMC,QAAQ,GAAGjC,WAAW,CAACgC,OAAO;MACpCC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEf,eAAe,CAAC;MACvD,IAAMgB,OAAO,GAAGC,oBAAoB,CAACtB,IAAI,CAACD,QAAQ,CAACmB,OAAO,CAAC;MAC3DG,OAAO,CAACE,OAAO,CAAC,UAACC,MAAM,EAAK;QAC1BA,MAAM,CAACJ,gBAAgB,CAAC,QAAQ,EAAEnB,MAAM,CAAC;MACjD,CAAO,CAAC;MACF,OAAO,YAAM;QACXkB,QAAQ,CAACM,mBAAmB,CAAC,WAAW,EAAEpB,eAAe,CAAC;QAC1DgB,OAAO,CAACE,OAAO,CAAC,UAACC,MAAM,EAAK;UAC1BA,MAAM,CAACC,mBAAmB,CAAC,QAAQ,EAAExB,MAAM,CAAC;QACtD,CAAS,CAAC;MACV,CAAO;IACP;IACI,OAAO,KAAK,CAAC;EACjB,CAAG,EAAE,CAACH,SAAS,EAAEE,IAAI,CAACD,QAAQ,CAACmB,OAAO,EAAEjB,MAAM,EAAEI,eAAe,EAAErB,MAAM,CAAC,CAAC;EACvE,OAAO;IAAEqB,eAAe,EAAfA,eAAe;IAAET,CAAC,EAADA,CAAC;IAAEC,CAAC,EAADA,CAAC;IAAEb,MAAM,EAANA,MAAM;IAAEC,SAAS,EAATA,SAAS;IAAEC,WAAW,EAAXA,WAAW;IAAEa,QAAQ,EAARA;EAAQ,CAAE;AAC5E"},"metadata":{},"sourceType":"module","externalDependencies":[]}