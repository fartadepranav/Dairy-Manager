{"ast":null,"code":"import { findElementAncestor } from '../find-element-ancestor/find-element-ancestor.js';\nfunction getPreviousIndex(current, elements, loop) {\n  for (var i = current - 1; i >= 0; i -= 1) {\n    if (!elements[i].disabled) {\n      return i;\n    }\n  }\n  if (loop) {\n    for (var _i = elements.length - 1; _i > -1; _i -= 1) {\n      if (!elements[_i].disabled) {\n        return _i;\n      }\n    }\n  }\n  return current;\n}\nfunction getNextIndex(current, elements, loop) {\n  for (var i = current + 1; i < elements.length; i += 1) {\n    if (!elements[i].disabled) {\n      return i;\n    }\n  }\n  if (loop) {\n    for (var _i2 = 0; _i2 < elements.length; _i2 += 1) {\n      if (!elements[_i2].disabled) {\n        return _i2;\n      }\n    }\n  }\n  return current;\n}\nfunction onSameLevel(target, sibling, parentSelector) {\n  return findElementAncestor(target, parentSelector) === findElementAncestor(sibling, parentSelector);\n}\nfunction createScopedKeydownHandler(_ref) {\n  var parentSelector = _ref.parentSelector,\n    siblingSelector = _ref.siblingSelector,\n    onKeyDown = _ref.onKeyDown,\n    _ref$loop = _ref.loop,\n    loop = _ref$loop === void 0 ? true : _ref$loop,\n    _ref$activateOnFocus = _ref.activateOnFocus,\n    activateOnFocus = _ref$activateOnFocus === void 0 ? false : _ref$activateOnFocus,\n    _ref$dir = _ref.dir,\n    dir = _ref$dir === void 0 ? \"rtl\" : _ref$dir,\n    orientation = _ref.orientation;\n  return function (event) {\n    var _a;\n    onKeyDown == null ? void 0 : onKeyDown(event);\n    var elements = Array.from(((_a = findElementAncestor(event.currentTarget, parentSelector)) == null ? void 0 : _a.querySelectorAll(siblingSelector)) || []).filter(function (node) {\n      return onSameLevel(event.currentTarget, node, parentSelector);\n    });\n    var current = elements.findIndex(function (el) {\n      return event.currentTarget === el;\n    });\n    var _nextIndex = getNextIndex(current, elements, loop);\n    var _previousIndex = getPreviousIndex(current, elements, loop);\n    var nextIndex = dir === \"rtl\" ? _previousIndex : _nextIndex;\n    var previousIndex = dir === \"rtl\" ? _nextIndex : _previousIndex;\n    switch (event.key) {\n      case \"ArrowRight\":\n        {\n          if (orientation === \"horizontal\") {\n            event.stopPropagation();\n            event.preventDefault();\n            elements[nextIndex].focus();\n            activateOnFocus && elements[nextIndex].click();\n          }\n          break;\n        }\n      case \"ArrowLeft\":\n        {\n          if (orientation === \"horizontal\") {\n            event.stopPropagation();\n            event.preventDefault();\n            elements[previousIndex].focus();\n            activateOnFocus && elements[previousIndex].click();\n          }\n          break;\n        }\n      case \"ArrowUp\":\n        {\n          if (orientation === \"vertical\") {\n            event.stopPropagation();\n            event.preventDefault();\n            elements[_previousIndex].focus();\n            activateOnFocus && elements[_previousIndex].click();\n          }\n          break;\n        }\n      case \"ArrowDown\":\n        {\n          if (orientation === \"vertical\") {\n            event.stopPropagation();\n            event.preventDefault();\n            elements[_nextIndex].focus();\n            activateOnFocus && elements[_nextIndex].click();\n          }\n          break;\n        }\n      case \"Home\":\n        {\n          event.stopPropagation();\n          event.preventDefault();\n          !elements[0].disabled && elements[0].focus();\n          break;\n        }\n      case \"End\":\n        {\n          event.stopPropagation();\n          event.preventDefault();\n          var last = elements.length - 1;\n          !elements[last].disabled && elements[last].focus();\n          break;\n        }\n    }\n  };\n}\nexport { createScopedKeydownHandler };","map":{"version":3,"names":["getPreviousIndex","current","elements","loop","i","disabled","length","getNextIndex","onSameLevel","target","sibling","parentSelector","findElementAncestor","createScopedKeydownHandler","_ref","siblingSelector","onKeyDown","_ref$loop","_ref$activateOnFocus","activateOnFocus","_ref$dir","dir","orientation","event","_a","Array","from","currentTarget","querySelectorAll","filter","node","findIndex","el","_nextIndex","_previousIndex","nextIndex","previousIndex","key","stopPropagation","preventDefault","focus","click","last"],"sources":["F:\\Dairy Project\\dairy_management\\node_modules\\@mantine\\utils\\src\\create-scoped-keydown-handler\\create-scoped-keydown-handler.ts"],"sourcesContent":["import { findElementAncestor } from '../find-element-ancestor/find-element-ancestor';\n\nfunction getPreviousIndex(current: number, elements: HTMLButtonElement[], loop: boolean) {\n  for (let i = current - 1; i >= 0; i -= 1) {\n    if (!elements[i].disabled) {\n      return i;\n    }\n  }\n\n  if (loop) {\n    for (let i = elements.length - 1; i > -1; i -= 1) {\n      if (!elements[i].disabled) {\n        return i;\n      }\n    }\n  }\n\n  return current;\n}\n\nfunction getNextIndex(current: number, elements: HTMLButtonElement[], loop: boolean) {\n  for (let i = current + 1; i < elements.length; i += 1) {\n    if (!elements[i].disabled) {\n      return i;\n    }\n  }\n\n  if (loop) {\n    for (let i = 0; i < elements.length; i += 1) {\n      if (!elements[i].disabled) {\n        return i;\n      }\n    }\n  }\n\n  return current;\n}\n\n/** Validates that target element is on the same level as sibling, used to filter out children that have the same sibling selector */\nfunction onSameLevel(\n  target: HTMLButtonElement,\n  sibling: HTMLButtonElement,\n  parentSelector: string\n) {\n  return (\n    findElementAncestor(target, parentSelector) === findElementAncestor(sibling, parentSelector)\n  );\n}\n\ninterface GetElementsSiblingsInput {\n  /** Selector used to find parent node, e.g. '[role=\"tablist\"]', '.mantine-Text-root' */\n  parentSelector: string;\n\n  /** Selector used to find element siblings, e.g. '[data-tab]' */\n  siblingSelector: string;\n\n  /** Determines whether next/previous indices should loop */\n  loop?: boolean;\n\n  /** Determines which arrow keys will be used */\n  orientation: 'vertical' | 'horizontal';\n\n  /** Text direction */\n  dir?: 'rtl' | 'ltr';\n\n  /** Determines whether element should be clicked when focused with keyboard event */\n  activateOnFocus?: boolean;\n\n  /** External keydown event */\n  onKeyDown?(event: React.KeyboardEvent<HTMLButtonElement>): void;\n}\n\nexport function createScopedKeydownHandler({\n  parentSelector,\n  siblingSelector,\n  onKeyDown,\n  loop = true,\n  activateOnFocus = false,\n  dir = 'rtl',\n  orientation,\n}: GetElementsSiblingsInput) {\n  return (event: React.KeyboardEvent<HTMLButtonElement>) => {\n    onKeyDown?.(event);\n\n    const elements = Array.from(\n      findElementAncestor(event.currentTarget, parentSelector)?.querySelectorAll<HTMLButtonElement>(\n        siblingSelector\n      ) || []\n    ).filter((node) => onSameLevel(event.currentTarget, node, parentSelector));\n\n    const current = elements.findIndex((el) => event.currentTarget === el);\n    const _nextIndex = getNextIndex(current, elements, loop);\n    const _previousIndex = getPreviousIndex(current, elements, loop);\n    const nextIndex = dir === 'rtl' ? _previousIndex : _nextIndex;\n    const previousIndex = dir === 'rtl' ? _nextIndex : _previousIndex;\n\n    switch (event.key) {\n      case 'ArrowRight': {\n        if (orientation === 'horizontal') {\n          event.stopPropagation();\n          event.preventDefault();\n          elements[nextIndex].focus();\n          activateOnFocus && elements[nextIndex].click();\n        }\n\n        break;\n      }\n\n      case 'ArrowLeft': {\n        if (orientation === 'horizontal') {\n          event.stopPropagation();\n          event.preventDefault();\n          elements[previousIndex].focus();\n          activateOnFocus && elements[previousIndex].click();\n        }\n\n        break;\n      }\n\n      case 'ArrowUp': {\n        if (orientation === 'vertical') {\n          event.stopPropagation();\n          event.preventDefault();\n          elements[_previousIndex].focus();\n          activateOnFocus && elements[_previousIndex].click();\n        }\n\n        break;\n      }\n\n      case 'ArrowDown': {\n        if (orientation === 'vertical') {\n          event.stopPropagation();\n          event.preventDefault();\n          elements[_nextIndex].focus();\n          activateOnFocus && elements[_nextIndex].click();\n        }\n\n        break;\n      }\n\n      case 'Home': {\n        event.stopPropagation();\n        event.preventDefault();\n        !elements[0].disabled && elements[0].focus();\n        break;\n      }\n\n      case 'End': {\n        event.stopPropagation();\n        event.preventDefault();\n        const last = elements.length - 1;\n        !elements[last].disabled && elements[last].focus();\n        break;\n      }\n    }\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}