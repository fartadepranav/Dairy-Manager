{"ast":null,"code":"import { useLayoutEffect, useEffect } from 'react';\nfunction dispatchEvent(type, detail) {\n  window.dispatchEvent(new CustomEvent(type, {\n    detail: detail\n  }));\n}\nvar useIsomorphicEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\nfunction createUseExternalEvents(prefix) {\n  function _useExternalEvents(events) {\n    var handlers = Object.keys(events).reduce(function (acc, eventKey) {\n      acc[\"\".concat(prefix, \":\").concat(eventKey)] = function (event) {\n        return events[eventKey](event.detail);\n      };\n      return acc;\n    }, {});\n    useIsomorphicEffect(function () {\n      Object.keys(handlers).forEach(function (eventKey) {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n      return function () {\n        return Object.keys(handlers).forEach(function (eventKey) {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n      };\n    }, [handlers]);\n  }\n  function createEvent(event) {\n    return function () {\n      return dispatchEvent(\"\".concat(prefix, \":\").concat(String(event)), arguments.length <= 0 ? undefined : arguments[0]);\n    };\n  }\n  return [_useExternalEvents, createEvent];\n}\nexport { createUseExternalEvents };","map":null,"metadata":{},"sourceType":"module"}