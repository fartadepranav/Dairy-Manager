{"ast":null,"code":"import { useRef, useCallback, useEffect } from 'react';\nimport { useReducedMotion } from '../use-reduced-motion/use-reduced-motion.js';\nimport { useWindowEvent } from '../use-window-event/use-window-event.js';\nimport { easeInOutQuad } from './utils/ease-in-out-quad.js';\nimport { getRelativePosition } from './utils/get-relative-position.js';\nimport { getScrollStart } from './utils/get-scroll-start.js';\nimport { setScrollParam } from './utils/set-scroll-param.js';\nfunction useScrollIntoView() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$duration = _ref.duration,\n    duration = _ref$duration === void 0 ? 1250 : _ref$duration,\n    _ref$axis = _ref.axis,\n    axis = _ref$axis === void 0 ? \"y\" : _ref$axis,\n    onScrollFinish = _ref.onScrollFinish,\n    _ref$easing = _ref.easing,\n    easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n    _ref$offset = _ref.offset,\n    offset = _ref$offset === void 0 ? 0 : _ref$offset,\n    _ref$cancelable = _ref.cancelable,\n    cancelable = _ref$cancelable === void 0 ? true : _ref$cancelable,\n    _ref$isList = _ref.isList,\n    isList = _ref$isList === void 0 ? false : _ref$isList;\n  var frameID = useRef(0);\n  var startTime = useRef(0);\n  var shouldStop = useRef(false);\n  var scrollableRef = useRef(null);\n  var targetRef = useRef(null);\n  var reducedMotion = useReducedMotion();\n  var cancel = function cancel() {\n    if (frameID.current) {\n      cancelAnimationFrame(frameID.current);\n    }\n  };\n  var scrollIntoView = useCallback(function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$alignment = _ref2.alignment,\n      alignment = _ref2$alignment === void 0 ? \"start\" : _ref2$alignment;\n    var _a;\n    shouldStop.current = false;\n    if (frameID.current) {\n      cancel();\n    }\n    var start = (_a = getScrollStart({\n      parent: scrollableRef.current,\n      axis: axis\n    })) != null ? _a : 0;\n    var change = getRelativePosition({\n      parent: scrollableRef.current,\n      target: targetRef.current,\n      axis: axis,\n      alignment: alignment,\n      offset: offset,\n      isList: isList\n    }) - (scrollableRef.current ? 0 : start);\n    function animateScroll() {\n      if (startTime.current === 0) {\n        startTime.current = performance.now();\n      }\n      var now = performance.now();\n      var elapsed = now - startTime.current;\n      var t = reducedMotion || duration === 0 ? 1 : elapsed / duration;\n      var distance = start + change * easing(t);\n      setScrollParam({\n        parent: scrollableRef.current,\n        axis: axis,\n        distance: distance\n      });\n      if (!shouldStop.current && t < 1) {\n        frameID.current = requestAnimationFrame(animateScroll);\n      } else {\n        typeof onScrollFinish === \"function\" && onScrollFinish();\n        startTime.current = 0;\n        frameID.current = 0;\n        cancel();\n      }\n    }\n    animateScroll();\n  }, [axis, duration, easing, isList, offset, onScrollFinish, reducedMotion]);\n  var handleStop = function handleStop() {\n    if (cancelable) {\n      shouldStop.current = true;\n    }\n  };\n  useWindowEvent(\"wheel\", handleStop, {\n    passive: true\n  });\n  useWindowEvent(\"touchmove\", handleStop, {\n    passive: true\n  });\n  useEffect(function () {\n    return cancel;\n  }, []);\n  return {\n    scrollableRef: scrollableRef,\n    targetRef: targetRef,\n    scrollIntoView: scrollIntoView,\n    cancel: cancel\n  };\n}\nexport { useScrollIntoView };","map":{"version":3,"names":["useScrollIntoView","_ref","arguments","length","undefined","_ref$duration","duration","_ref$axis","axis","onScrollFinish","_ref$easing","easing","easeInOutQuad","_ref$offset","offset","_ref$cancelable","cancelable","_ref$isList","isList","frameID","useRef","startTime","shouldStop","scrollableRef","targetRef","reducedMotion","useReducedMotion","cancel","current","cancelAnimationFrame","scrollIntoView","useCallback","_ref2","_ref2$alignment","alignment","_a","start","getScrollStart","parent","change","getRelativePosition","target","animateScroll","performance","now","elapsed","t","distance","setScrollParam","requestAnimationFrame","handleStop","useWindowEvent","passive","useEffect"],"sources":["F:\\Dairy Project\\dairy_management\\node_modules\\@mantine\\hooks\\src\\use-scroll-into-view\\use-scroll-into-view.ts"],"sourcesContent":["import { useCallback, useRef, useEffect } from 'react';\nimport { useReducedMotion } from '../use-reduced-motion/use-reduced-motion';\nimport { useWindowEvent } from '../use-window-event/use-window-event';\nimport { easeInOutQuad } from './utils/ease-in-out-quad';\nimport { getRelativePosition } from './utils/get-relative-position';\nimport { getScrollStart } from './utils/get-scroll-start';\nimport { setScrollParam } from './utils/set-scroll-param';\n\ninterface ScrollIntoViewAnimation {\n  /** target element alignment relatively to parent based on current axis */\n  alignment?: 'start' | 'end' | 'center';\n}\n\ninterface ScrollIntoViewParams {\n  /** callback fired after scroll */\n  onScrollFinish?: () => void;\n\n  /** duration of scroll in milliseconds */\n  duration?: number;\n\n  /** axis of scroll */\n  axis?: 'x' | 'y';\n\n  /** custom mathematical easing function */\n  easing?: (t: number) => number;\n\n  /** additional distance between nearest edge and element */\n  offset?: number;\n\n  /** indicator if animation may be interrupted by user scrolling */\n  cancelable?: boolean;\n\n  /** prevents content jumping in scrolling lists with multiple targets */\n  isList?: boolean;\n}\n\nexport function useScrollIntoView<\n  Target extends HTMLElement,\n  Parent extends HTMLElement | null = null\n>({\n  duration = 1250,\n  axis = 'y',\n  onScrollFinish,\n  easing = easeInOutQuad,\n  offset = 0,\n  cancelable = true,\n  isList = false,\n}: ScrollIntoViewParams = {}) {\n  const frameID = useRef(0);\n  const startTime = useRef(0);\n  const shouldStop = useRef(false);\n\n  const scrollableRef = useRef<Parent>(null);\n  const targetRef = useRef<Target>(null);\n\n  const reducedMotion = useReducedMotion();\n\n  const cancel = (): void => {\n    if (frameID.current) {\n      cancelAnimationFrame(frameID.current);\n    }\n  };\n\n  const scrollIntoView = useCallback(\n    ({ alignment = 'start' }: ScrollIntoViewAnimation = {}) => {\n      shouldStop.current = false;\n\n      if (frameID.current) {\n        cancel();\n      }\n\n      const start = getScrollStart({ parent: scrollableRef.current, axis }) ?? 0;\n\n      const change =\n        getRelativePosition({\n          parent: scrollableRef.current,\n          target: targetRef.current,\n          axis,\n          alignment,\n          offset,\n          isList,\n        }) - (scrollableRef.current ? 0 : start);\n\n      function animateScroll() {\n        if (startTime.current === 0) {\n          startTime.current = performance.now();\n        }\n\n        const now = performance.now();\n        const elapsed = now - startTime.current;\n\n        // easing timing progress\n        const t = reducedMotion || duration === 0 ? 1 : elapsed / duration;\n\n        const distance = start + change * easing(t);\n\n        setScrollParam({\n          parent: scrollableRef.current,\n          axis,\n          distance,\n        });\n\n        if (!shouldStop.current && t < 1) {\n          frameID.current = requestAnimationFrame(animateScroll);\n        } else {\n          typeof onScrollFinish === 'function' && onScrollFinish();\n          startTime.current = 0;\n          frameID.current = 0;\n          cancel();\n        }\n      }\n      animateScroll();\n    },\n    [axis, duration, easing, isList, offset, onScrollFinish, reducedMotion]\n  );\n\n  const handleStop = () => {\n    if (cancelable) {\n      shouldStop.current = true;\n    }\n  };\n\n  /**\n   * detection of one of these events stops scroll animation\n   * wheel - mouse wheel / touch pad\n   * touchmove - any touchable device\n   */\n\n  useWindowEvent('wheel', handleStop, {\n    passive: true,\n  });\n\n  useWindowEvent('touchmove', handleStop, {\n    passive: true,\n  });\n\n  // cleanup requestAnimationFrame\n  useEffect(() => cancel, []);\n\n  return {\n    scrollableRef,\n    targetRef,\n    scrollIntoView,\n    cancel,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}